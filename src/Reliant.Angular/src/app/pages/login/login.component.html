<!-- Spacious gradient background with centered, padded card -->
<div
  class="min-h-screen grid place-items-center bg-gradient-to-br from-indigo-50 via-white to-sky-50 px-4"
>
  <p-card
    styleClass="w-full max-w-lg shadow-xl border border-gray-100/70 rounded-2xl overflow-hidden"
  >
    <!-- Header -->
    <ng-template pTemplate="header">
      <div class="flex items-center gap-3 p-4 md:p-6">
        <span
          class="inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-indigo-600 text-white text-xl font-semibold shadow-sm select-none"
          >R</span
        >
        <div>
          <h1 class="text-xl font-semibold leading-tight">Welcome back</h1>
          <p class="text-xs text-gray-500">Sign in to Reliant ERP/CRM</p>
        </div>
      </div>
    </ng-template>

    <!-- Content -->
    <div class="p-4 md:p-6">
      <form
        (ngSubmit)="submit()"
        [formGroup]="form"
        class="space-y-7"
        novalidate
      >
        <!-- Email -->
        <div class="space-y-2">
          <label for="email" class="text-sm font-medium">Email</label>
          <span class="p-input-icon-left w-full">
            <input
              id="email"
              pInputText
              type="email"
              formControlName="email"
              autocomplete="username"
              placeholder="you@example.com"
              class="w-full p-inputtext-lg !rounded-xl !px-4 !py-3 focus:!ring-2 focus:!ring-indigo-500 focus:!border-indigo-500 transition"
              [ngClass]="{
                'ng-invalid ng-dirty ring-2 ring-red-500':
                  email?.invalid && (email?.touched || email?.dirty)
              }"
            />
          </span>
          <small
            *ngIf="
              email?.hasError('required') && (email?.touched || email?.dirty)
            "
            class="text-red-600"
          >
            Email is required.
          </small>
          <small
            *ngIf="email?.hasError('email') && (email?.touched || email?.dirty)"
            class="text-red-600"
          >
            Please enter a valid email.
          </small>
        </div>

        <!-- Password -->
        <div class="space-y-2">
          <label for="password" class="text-sm font-medium">Password</label>
          <p-password
            inputId="password"
            formControlName="password"
            [toggleMask]="true"
            [feedback]="false"
            styleClass="w-full"
            inputStyleClass="w-full p-inputtext-lg !rounded-xl !px-4 !py-3
                     focus:!ring-2 focus:!ring-indigo-500 focus:!border-indigo-500
                     transition"
            autocomplete="current-password"
            [ngClass]="{
              'ng-invalid ng-dirty ring-2 ring-red-500':
                password?.invalid && (password?.touched || password?.dirty)
            }"
          >
          </p-password>
          <small
            *ngIf="
              password?.hasError('required') &&
              (password?.touched || password?.dirty)
            "
            class="text-red-600"
          >
            Password is required.
          </small>
        </div>

        <!-- Remember + Forgot -->
        <div class="flex items-center justify-between pt-2">
          <p-checkbox
            formControlName="remember"
            binary="true"
            inputId="remember"
            label="Remember me"
          ></p-checkbox>

          <button
            pButton
            type="button"
            class="p-button-text p-button-plain !text-indigo-600 hover:!text-indigo-700 focus:!ring-2 focus:!ring-indigo-500 focus:!ring-offset-2 !rounded-lg"
            label="Forgot password?"
          ></button>
        </div>

        <div class="pt-3">
          <button
            pButton
            type="submit"
            label="Sign in"
            [disabled]="loading || form.invalid"
            [loading]="loading"
            class="btn-signin w-full"
          ></button>
        </div>

        <!-- Error -->
        <p-message *ngIf="error" severity="error" [text]="error"></p-message>

        <!-- Divider -->
        <div class="flex items-center gap-3 text-xs text-gray-500">
          <div class="h-px bg-gray-200 flex-1"></div>
          <span>or quick-fill</span>
          <div class="h-px bg-gray-200 flex-1"></div>
        </div>

        <!-- Quick fill -->
        <div class="grid grid-cols-2 gap-3">
          <button
            pButton
            type="button"
            class="p-button-outlined p-button-lg"
            label="Sales demo"
            (click)="fillDemo('sales')"
          ></button>
          <button
            pButton
            type="button"
            class="p-button-outlined p-button-lg"
            label="Manager demo"
            (click)="fillDemo('manager')"
          ></button>
        </div>

        <!-- Helper -->
        <div class="text-xs text-gray-500 leading-relaxed">
          Use <code>sales&#64;demo.local</code> or
          <code>manager&#64;demo.local</code> with password
          <code>Passw0rd!</code>.
        </div>
      </form>
    </div>
  </p-card>
</div>
